services:
  focus_service:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "${COMPOSE_PORT:-8001}:${COMPOSE_PORT:-8001}"
    volumes:
      - "${COMPOSE_IFCB_DATA_DIR:-./data}:/data/ifcb:ro"
      - "${COMPOSE_MODEL_DIR:-./models}:/models:ro"
    environment:
      - DATA_DIR=/data/ifcb
      - MODEL_PATH=/models/slim_student_model.pkl
      - PORT=${COMPOSE_PORT:-8001}
